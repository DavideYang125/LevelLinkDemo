
@{
    ViewBag.Title = "Index";
}

<div class="form-group">
    @*<label class="col-sm-2 control-label">省市区</label>*@
    <div class="col-sm-3">
        <select name="input_province" id="input_province" class="form-control">
            <option value="">--请选择--</option>
        </select>
    </div>
    <div class="col-sm-3">
        <select name="input_city" id="input_city" class="form-control">
            <option value="">--请选择--</option>
        </select>
    </div>
    <div class="col-sm-3">
        <select name="input_area" id="input_area" class="form-control">
            <option value="">--请选择--</option>
        </select>
    </div>
</div>
<script src="~/Scripts/jquery-3.3.1.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        var html = "";
        $("#input_city").append(html);
        $("#input_area").append(html);

        $.getJSON("/LevelLink/GetProvinces", null, function (data) {
            $.each(data, function (i, item) {
                //alert(item.province.Name);
                html += "<option value=" + item.Id + " >" + item.Name + "</option> ";
            });
            $("#input_province").append(html);
        });
    });
    $("#input_province").change(function () {
        if ($(this).val() == "") return;
        $("#input_city option").remove();
        $("#input_area option").remove();
        var provinceId = $(this).find("option:selected").val();
     
        var html = "<option value=''>--请选择--</option>";
        $("#input_area option").append(html);

        $.getJSON("/LevelLink/GetCitys", { provinceId: provinceId}, function (data) {
            $.each(data, function (i, item) {
                html += "<option value=" + item.Id + " >" + item.Name + "</option> ";
            });
            $("#input_city").append(html);
        });
    });

    $("#input_city").change(function () {
        if ($(this).val() == "") return;
        $("#input_area option").remove();
        var cityId = $(this).find("option:selected").val();
       
        var html = "<option value=''>--请选择--</option>";

        $.getJSON("/LevelLink/GetRegions", { cityId: cityId }, function (data) {
            $.each(data, function (i, item) {
                //alert(item.province.Name);
                html += "<option value=" + item.Id + " >" + item.Name + "</option> ";
            });
            $("#input_area").append(html);
        });
    });
</script>

